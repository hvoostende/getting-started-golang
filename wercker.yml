box:
  id: golang
  ports:
    - "5000"

dev:
  steps:
    - internal/watch:
        code: |
          go build ./...
          ./source
        reload: true
# Build definition
build:
  # The steps that will be executed on build
  steps:
    # golint step!
    - wercker/golint

    # # Build the project
    # - script:
    #     name: go build
    #     code: |
    #       go build ./...
    #
    # # Test the project
    # - script:
    #     name: go test
    #     code: |
    #       go test ./...

hantest:
  steps:
    - script:
        name: say something
        code: |
          echo "Han Rules"

woutertest:
  steps:
    - script:
        name: say something
        code: |
          echo "Wouter Rules"

paultest:
  steps:
    - script:
        name: say something
        code: |
          echo "Wouter Rules"

finaltest:
  steps:
    - add-ssh-key:
        keyname: HANTEST
    - add-to-known_hosts:
        hostname: pp2-mgmt.spronq.com
        fingerprint: cc:25:76:9e:d3:ce:40:09:77:29:73:2a:e7:74:ea:50
    - script:
        name: done
        code: |
          ssh deploy@pp2-mgmt.spronq.com "ssh spronq@pp2-agent1 "hostname""
